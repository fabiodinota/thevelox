"use client";

import React from "react";
import { useTheme } from "../context/themeContext";
import { motion } from "framer-motion";
import AnimatePresenceProvider from "../context/AnimatePresenceProvider";

const ThemeSwitcher = ({
	className,
	size,
}: {
	className: string;
	size: string;
}) => {
	const { theme, setLight, setDark } = useTheme();

	const selectedThemeVariant = {
		unselected: {
			scale: 0.7,
			transition: {
				duration: 0.2,
			},
		},
		selected: {
			scale: 1,
			transition: {
				duration: 0.2,
			},
		},
	};

	if (size === "small") {
		return (
			<div className={`flex flex-row gap-2 ${className}`}>
				<svg
					onClick={setLight}
					className={`${theme === "light" ? "" : "cursor-pointer"}`}
					width="42"
					height="42"
					viewBox="0 0 42 42"
					fill="none"
					xmlns="http://www.w3.org/2000/svg"
				>
					{theme === "light" && (
						<motion.rect
							variants={selectedThemeVariant}
							initial="unselected"
							animate="selected"
							x="0.5"
							y="0.5"
							width="39"
							height="39"
							rx="7.5"
							className="stroke-foreground"
						/>
					)}

					<path
						d="M19.9997 22.5002C20.6941 22.5002 21.2844 22.2571 21.7705 21.771C22.2566 21.2849 22.4997 20.6946 22.4997 20.0002C22.4997 19.3057 22.2566 18.7154 21.7705 18.2293C21.2844 17.7432 20.6941 17.5002 19.9997 17.5002C19.3052 17.5002 18.715 17.7432 18.2288 18.2293C17.7427 18.7154 17.4997 19.3057 17.4997 20.0002C17.4997 20.6946 17.7427 21.2849 18.2288 21.771C18.715 22.2571 19.3052 22.5002 19.9997 22.5002ZM19.9997 24.1668C18.8469 24.1668 17.8643 23.7606 17.0518 22.9481C16.2393 22.1356 15.833 21.1529 15.833 20.0002C15.833 18.8474 16.2393 17.8647 17.0518 17.0522C17.8643 16.2397 18.8469 15.8335 19.9997 15.8335C21.1525 15.8335 22.1351 16.2397 22.9476 17.0522C23.7601 17.8647 24.1663 18.8474 24.1663 20.0002C24.1663 21.1529 23.7601 22.1356 22.9476 22.9481C22.1351 23.7606 21.1525 24.1668 19.9997 24.1668ZM14.1663 20.8335H10.833V19.1668H14.1663V20.8335ZM29.1663 20.8335H25.833V19.1668H29.1663V20.8335ZM19.1663 14.1668V10.8335H20.833V14.1668H19.1663ZM19.1663 29.1668V25.8335H20.833V29.1668H19.1663ZM15.333 16.4585L13.2288 14.4377L14.4163 13.2085L16.4163 15.2918L15.333 16.4585ZM25.583 26.7918L23.5622 24.6877L24.6663 23.5418L26.7705 25.5627L25.583 26.7918ZM23.5413 15.3335L25.5622 13.2293L26.7913 14.4168L24.708 16.4168L23.5413 15.3335ZM13.208 25.5835L15.3122 23.5627L16.458 24.6668L14.4372 26.771L13.208 25.5835Z"
						className="fill-foreground"
					/>
				</svg>

				<svg
					onClick={setDark}
					className={`${theme === "dark" ? "" : "cursor-pointer"}`}
					width="40"
					height="40"
					viewBox="0 0 40 40"
					fill="none"
					xmlns="http://www.w3.org/2000/svg"
				>
					{theme === "dark" && (
						<motion.rect
							variants={selectedThemeVariant}
							initial="unselected"
							animate="selected"
							x="0.5"
							y="0.5"
							width="39"
							height="39"
							rx="7.5"
							className="stroke-foreground"
						/>
					)}

					<path
						d="M20 27.5C17.9167 27.5 16.1458 26.7708 14.6875 25.3125C13.2292 23.8542 12.5 22.0833 12.5 20C12.5 17.9167 13.2292 16.1458 14.6875 14.6875C16.1458 13.2292 17.9167 12.5 20 12.5C20.1944 12.5 20.3854 12.5069 20.5729 12.5208C20.7604 12.5347 20.9444 12.5556 21.125 12.5833C20.5556 12.9861 20.1007 13.5104 19.7604 14.1562C19.4201 14.8021 19.25 15.5 19.25 16.25C19.25 17.5 19.6875 18.5625 20.5625 19.4375C21.4375 20.3125 22.5 20.75 23.75 20.75C24.5139 20.75 25.2153 20.5799 25.8542 20.2396C26.4931 19.8993 27.0139 19.4444 27.4167 18.875C27.4444 19.0556 27.4653 19.2396 27.4792 19.4271C27.4931 19.6146 27.5 19.8056 27.5 20C27.5 22.0833 26.7708 23.8542 25.3125 25.3125C23.8542 26.7708 22.0833 27.5 20 27.5ZM20 25.8333C21.2222 25.8333 22.3194 25.4965 23.2917 24.8229C24.2639 24.1493 24.9722 23.2708 25.4167 22.1875C25.1389 22.2569 24.8611 22.3125 24.5833 22.3542C24.3056 22.3958 24.0278 22.4167 23.75 22.4167C22.0417 22.4167 20.5868 21.816 19.3854 20.6146C18.184 19.4132 17.5833 17.9583 17.5833 16.25C17.5833 15.9722 17.6042 15.6944 17.6458 15.4167C17.6875 15.1389 17.7431 14.8611 17.8125 14.5833C16.7292 15.0278 15.8507 15.7361 15.1771 16.7083C14.5035 17.6806 14.1667 18.7778 14.1667 20C14.1667 21.6111 14.7361 22.9861 15.875 24.125C17.0139 25.2639 18.3889 25.8333 20 25.8333Z"
						className="fill-foreground"
					/>
				</svg>
			</div>
		);
	} else if (size === "big") {
		return (
			<div
				className={`w-full flex flex-row justify-center items-center gap-2 ${className}`}
			>
				<motion.div
					initial={{ y: 200 }}
					animate={{ y: 0 }}
					exit={{ y: 200 }}
					transition={{
						duration: 0.1,
						ease: [0.4, -0.54, 0.48, 1.39],
					}}
					onClick={setLight}
					className={`w-full rounded-xl duration-300 flex flex-row justify-center items-center py-2 ${
						theme === "light"
							? "border border-primary/50"
							: "cursor-pointer"
					}`}
				>
					<svg
						width="40"
						height="40"
						viewBox="0 0 40 40"
						fill="none"
						xmlns="http://www.w3.org/2000/svg"
					>
						<path
							d="M19.9997 22.5002C20.6941 22.5002 21.2844 22.2571 21.7705 21.771C22.2566 21.2849 22.4997 20.6946 22.4997 20.0002C22.4997 19.3057 22.2566 18.7154 21.7705 18.2293C21.2844 17.7432 20.6941 17.5002 19.9997 17.5002C19.3052 17.5002 18.715 17.7432 18.2288 18.2293C17.7427 18.7154 17.4997 19.3057 17.4997 20.0002C17.4997 20.6946 17.7427 21.2849 18.2288 21.771C18.715 22.2571 19.3052 22.5002 19.9997 22.5002ZM19.9997 24.1668C18.8469 24.1668 17.8643 23.7606 17.0518 22.9481C16.2393 22.1356 15.833 21.1529 15.833 20.0002C15.833 18.8474 16.2393 17.8647 17.0518 17.0522C17.8643 16.2397 18.8469 15.8335 19.9997 15.8335C21.1525 15.8335 22.1351 16.2397 22.9476 17.0522C23.7601 17.8647 24.1663 18.8474 24.1663 20.0002C24.1663 21.1529 23.7601 22.1356 22.9476 22.9481C22.1351 23.7606 21.1525 24.1668 19.9997 24.1668ZM14.1663 20.8335H10.833V19.1668H14.1663V20.8335ZM29.1663 20.8335H25.833V19.1668H29.1663V20.8335ZM19.1663 14.1668V10.8335H20.833V14.1668H19.1663ZM19.1663 29.1668V25.8335H20.833V29.1668H19.1663ZM15.333 16.4585L13.2288 14.4377L14.4163 13.2085L16.4163 15.2918L15.333 16.4585ZM25.583 26.7918L23.5622 24.6877L24.6663 23.5418L26.7705 25.5627L25.583 26.7918ZM23.5413 15.3335L25.5622 13.2293L26.7913 14.4168L24.708 16.4168L23.5413 15.3335ZM13.208 25.5835L15.3122 23.5627L16.458 24.6668L14.4372 26.771L13.208 25.5835Z"
							className="fill-foreground"
						/>
					</svg>
					<p>Light Mode</p>
				</motion.div>
				<motion.div
					initial={{ y: 200 }}
					animate={{ y: 0 }}
					exit={{ y: 200 }}
					transition={{
						duration: 0.1,
						ease: [0.4, -0.54, 0.48, 1.39],
						delay: 0.1,
					}}
					onClick={setDark}
					className={`w-full rounded-xl duration-300 flex flex-row justify-center items-center py-2 ${
						theme === "dark"
							? "border border-primary/50"
							: "cursor-pointer"
					}`}
				>
					<svg
						width="40"
						height="40"
						viewBox="0 0 40 40"
						fill="none"
						xmlns="http://www.w3.org/2000/svg"
					>
						<path
							d="M20 27.5C17.9167 27.5 16.1458 26.7708 14.6875 25.3125C13.2292 23.8542 12.5 22.0833 12.5 20C12.5 17.9167 13.2292 16.1458 14.6875 14.6875C16.1458 13.2292 17.9167 12.5 20 12.5C20.1944 12.5 20.3854 12.5069 20.5729 12.5208C20.7604 12.5347 20.9444 12.5556 21.125 12.5833C20.5556 12.9861 20.1007 13.5104 19.7604 14.1562C19.4201 14.8021 19.25 15.5 19.25 16.25C19.25 17.5 19.6875 18.5625 20.5625 19.4375C21.4375 20.3125 22.5 20.75 23.75 20.75C24.5139 20.75 25.2153 20.5799 25.8542 20.2396C26.4931 19.8993 27.0139 19.4444 27.4167 18.875C27.4444 19.0556 27.4653 19.2396 27.4792 19.4271C27.4931 19.6146 27.5 19.8056 27.5 20C27.5 22.0833 26.7708 23.8542 25.3125 25.3125C23.8542 26.7708 22.0833 27.5 20 27.5ZM20 25.8333C21.2222 25.8333 22.3194 25.4965 23.2917 24.8229C24.2639
                            24.1493 24.9722 23.2708 25.4167 22.1875C25.1389 22.2569 24.8611 22.3125 24.5833 22.3542C24.3056 22.3958 24.0278 22.4167 23.75 22.4167C22.0417 22.4167 20.5868 21.816 19.3854 20.6146C18.184 19.4132 17.5833 17.9583 17.5833 16.25C17.5833 15.9722 17.6042 15.6944 17.6458 15.4167C17.6875 15.1389 17.7431 14.8611 17.8125 14.5833C16.7292 15.0278 15.8507 15.7361 15.1771 16.7083C14.5035 17.6806 14.1667 18.7778 14.1667 20C14.1667 21.6111 14.7361 22.9861 15.875 24.125C17.0139 25.2639 18.3889 25.8333 20 25.8333Z"
							className="fill-foreground"
						/>
					</svg>
					<p>Dark Mode</p>
				</motion.div>
			</div>
		);
	}
};

export default ThemeSwitcher;
